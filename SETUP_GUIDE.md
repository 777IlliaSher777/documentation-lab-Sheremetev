# Довідник з інсталяції та запуску  
Короткий покроковий посібник для локального розгортання HelpDeskPro. Наведені інструкції — макет, який можна адаптувати під конкретну реалізацію проєкту.

## Потрібні інструменти  
- **Браузер**: сучасний браузер (**Chrome, Firefox, Edge, Safari**).
- **Git**: для клонування репозиторію.
- **Node.js**: версія 16 або новіша для фронтенду і бекенду на **Node**.
- **npm** або **yarn**: менеджер пакетів.
- **SQLite** або інша СУБД: для локальної розробки; можна використовувати **PostgreSQL** або **MySQL** за потреби.
- **Docker** і **docker-compose** опціонально для контейнерного запуску.
- **Акаунт**: email для реєстрації користувача в системі після запуску.

## Структура репозиторію  
Рекомендована структура файлів і папок:  
```
/ (root)
  README.md
  SETUP_GUIDE.md
  /frontend
  /backend
  /images
  docker-compose.yml
```
## Кроки встановлення локально  
**1. Клонування репозиторію**
```
git clone github.com/777IlliaSher777/documentation-lab-Sheremetev.git
cd documentation-lab-Sheremetev
```
**2. Встановлення залежностей бекенду**  
```
cd backend
npm install
```
**3. Встановлення залежностей фронтенду**  
```
cd ../frontend
npm install
```
**4. Налаштування змінних оточення**  
У папці `backend` створіть файл `.env` і додайте мінімальні параметри:
```
PORT=4000
DATABASE_URL=sqlite://./db.sqlite
JWT_SECRET=your_secret_key
EMAIL_SERVICE=smtp
EMAIL_USER=you@example.com
EMAIL_PASS=secret
```
У папці `frontend` створіть `/.env` або `/.env.local` з адресою API:
```
VITE_API_URL=http://localhost:4000
```
**5. Ініціалізація бази даних**  
Якщо проєкт має скрипти міграцій і сидів:  
```
cd backend
npm run migrate
npm run seed
```
Якщо використовується **SQLite**, переконайтесь, що у вас є права на запис у папці проєкту.  
**6. Запуск сервісів локально**  
У двох терміналах або за допомогою менеджера процесів:  
```
# Термінал 1
cd backend
npm run dev

# Термінал 2
cd frontend
npm start
```
Після запуску фронтенд доступний за `http://localhost:3000`, бекенд за `http://localhost:4000`.  

## Запуск через Docker  
Якщо є `docker-compose.yml`, можна запустити контейнерно:
```
docker-compose up --build
```
Після побудови сервіси будуть доступні за тими ж адресами `http://localhost:3000` і `http://localhost:4000`.  

## Перевірка роботи  
**1. Health check бекенду**  
Перевірте ендпоінт здоров’я:  
```
curl http://localhost:4000/health
```
**Очікувана відповідь**  
```
{ "status": "ok" }
```
**2. Перевірка фронтенду**  
- Відкрийте у браузері `http://localhost:3000`.
- Має з’явитися сторінка входу або **Dashboard** після авторизації.

**3. Створення тестового акаунту і тикета**  
1. Зареєструйтесь через форму **Sign Up**.
2. Увійдіть і створіть тестовий тикет через **New Ticket**.
3. Переконайтесь, що тикет з’явився у списку **Мої звернення** і що ви отримали підтвердження на email (якщо налаштовано **SMTP**).  

**4. Перевірка API створення тикета**  
Приклад запиту через curl:  
```
curl -X POST http://localhost:4000/tickets \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <token>" \
  -d '{"subject":"Тест","description":"Перевірка системи"}'
```
Очікувана відповідь — код `201` і JSON з полем `id`.  

## Усунення поширених проблем  
- **Фронтенд не підключається до бекенду**  
 ○ Перевірте `VITE_API_URL` або `API_URL` у конфігурації фронтенду.  
 ○ Переконайтесь, що бекенд запущено і слухає правильний порт.  
- **Помилки підключення до бази даних**  
 ○ Перевірте `DATABASE_URL` у `.env`.  
 ○ Для **SQLite** перевірте права на файл і папку.  
- **Email не надсилається**  
 ○ Перевірте налаштування **SMTP** у `.env`.  
 ○ Перевірте логи бекенду на помилки відправки.  
- **Проблеми з CORS**  
 ○ Переконайтесь, що бекенд дозволяє запити з адреси фронтенду (`http://localhost:3000`).

## Короткий чекліст після запуску  
- [ ] `curl http://localhost:4000/health` повертає `{ "status": "ok" }`.  
- [ ] Вебінтерфейс доступний за `http://localhost:3000`.  
- [ ] Можна зареєструвати акаунт і увійти.  
- [ ] Створення тикета працює і відображається у списку.  
- [ ] Email підтвердження надходить при створенні тикета якщо **SMTP** налаштовано.  
